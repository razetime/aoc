#!/usr/bin/env cbqn

âŸ¨SplitâŸ© â† â€¢Import "lib.bqn"

ptsâ€¿folds â† "" <âŠ¸Split â€¢FLines "13.txt"
pts â†© {âŒ½â€¢BQNÂ¨','Splitğ•©}Â¨pts
folds â†© {ğ•Š axâ€¿pos: âŸ¨(axâ‰¡"y")âŠ‘â‰â€¿âŠ¢, â€¢BQN posâŸ©}Â¨{'='Split Â¯1âŠ‘' 'Splitğ•©}Â¨folds
grid â† âˆŠâŸœptsË˜ â†•1+âŒˆÂ´pts

# Part 1:
Fold â† {Axâ€¿pos ğ•Š ğ•©: Ax pos â†‘{mâ†ğ•¨âŒˆâ—‹â‰ 1â†“ğ•©, ğ•¨âˆ¨â—‹{ğ•©â†‘Ëœ-+âŸœmâŠ¸-â‰ ğ•©}âŒ½1â†“ğ•©}Â´(+`pos=â†•â‰ Ax ğ•©)âŠ”Ax ğ•©}
â€¢Show +Â´â¥Š(âŠ‘folds) Fold grid

# Part 2:
â€¢Show " ğ•Š"âŠËœgrid FoldÂ´âŒ½folds