#!/usr/bin/env cbqn

âŸ¨SplitâŸ© â† â€¢Import "lib.bqn"

âŸ¨patâŸ©â€¿strs â† "" <âŠ¸Split â€¢FLines "14.txt"
elemsâ€¿trans â† <Ë˜â‰>{0â€¿2âŠ' 'Splitğ•©}Â¨ strs

# Part 1:
â€¢Show (âŒˆÂ´-âŒŠÂ´)/â¼âˆ˜âŠâˆ§{âˆ¾ğ•©âˆ¾Â¨âŸ¨""âŸ©âˆ¾ËœtransâŠËœelemsâŠ<Ë˜2â†•ğ•©}âŸ10 pat

# Part 2(works for part 1 as well):
npair â† trans{ğ•¨ ğ•Š aâ€¿b: elemsâŠâŸ¨aâˆ¾ğ•¨,ğ•¨âˆ¾bâŸ©}Â¨elems # indices of resultant pairs
chars â† â·elemsâˆ¾â—‹âˆ¾trans # all unique chars
occs â† +Ëpat=âŒœchars # occurrence count of each char
letinds â† charsâŠâˆ¾trans # indices of translated letters

â€¢Show (âŒˆÂ´-âŒŠÂ´)âŠ‘{
  ğ•Š nâ€¿x:
  new â† /â‹ˆâ‰ x
  fil â† Ã—âŠ¸/x
  (2/fil){new ğ•¨âŠ¸+âŒ¾(ğ•©âŠ¸âŠ‘)â†©}Â¨âˆ¾npair/ËœÃ—x
  fil{n ğ•¨âŠ¸+âŒ¾(ğ•©âŠ¸âŠ‘)â†©}Â¨letinds/ËœÃ—x
  nâ€¿new
}âŸ40 âŸ¨occs, +Â´Ë˜elemsâ‰¡âŒœ<Ë˜2â†•patâŸ©